{"ast":null,"code":"var _jsxFileName = \"/Users/pranavviswanathan/Northeastern/Education/Fall2025/ML-OPS/Project/bluebikes-ui/frontend/src/context/StationContext.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StationContext = /*#__PURE__*/createContext();\nconst API_BASE_URL = 'http://localhost:5000/api';\nexport const useStations = () => {\n  _s();\n  const context = useContext(StationContext);\n  if (!context) {\n    throw new Error('useStations must be used within StationProvider');\n  }\n  return context;\n};\n_s(useStations, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport const StationProvider = ({\n  children\n}) => {\n  _s2();\n  const [stations, setStations] = useState([]);\n  const [stationStatus, setStationStatus] = useState({});\n  const [selectedStation, setSelectedStation] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Fetch station information on mount\n  useEffect(() => {\n    fetchStations();\n  }, []);\n  const fetchStations = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await axios.get(`${API_BASE_URL}/stations`);\n      setStations(response.data);\n    } catch (err) {\n      console.error('Error fetching stations:', err);\n      setError('Failed to load stations. Please check if the backend is running.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchStationStatus = async stationId => {\n    try {\n      const response = await axios.get(`${API_BASE_URL}/stations/${stationId}/status`);\n      setStationStatus(prev => ({\n        ...prev,\n        [stationId]: response.data\n      }));\n      return response.data;\n    } catch (err) {\n      console.error(`Error fetching status for station ${stationId}:`, err);\n      return null;\n    }\n  };\n  const fetchAllStationStatus = async () => {\n    try {\n      const response = await axios.get(`${API_BASE_URL}/stations/status`);\n      const statusMap = {};\n      response.data.forEach(status => {\n        statusMap[status.station_id] = status;\n      });\n      setStationStatus(statusMap);\n      return statusMap;\n    } catch (err) {\n      console.error('Error fetching all station statuses:', err);\n      return {};\n    }\n  };\n  const getPrediction = async (stationId, datetime = null) => {\n    try {\n      const response = await axios.post(`${API_BASE_URL}/predict`, {\n        station_id: stationId,\n        datetime: datetime || new Date().toISOString(),\n        temperature: 15,\n        // Default values\n        precipitation: 0\n      });\n      return response.data;\n    } catch (err) {\n      console.error(`Error getting prediction for station ${stationId}:`, err);\n      return {\n        predicted_demand: null,\n        error: 'Prediction unavailable'\n      };\n    }\n  };\n  const getStationInfo = stationId => {\n    return stations.find(s => s.station_id === stationId);\n  };\n  const value = {\n    stations,\n    stationStatus,\n    selectedStation,\n    setSelectedStation,\n    loading,\n    error,\n    fetchStations,\n    fetchStationStatus,\n    fetchAllStationStatus,\n    getPrediction,\n    getStationInfo\n  };\n  return /*#__PURE__*/_jsxDEV(StationContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 9\n  }, this);\n};\n_s2(StationProvider, \"Q5grq2b8gu9/DVESOEAGGqEXEIY=\");\n_c = StationProvider;\nvar _c;\n$RefreshReg$(_c, \"StationProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","axios","jsxDEV","_jsxDEV","StationContext","API_BASE_URL","useStations","_s","context","Error","StationProvider","children","_s2","stations","setStations","stationStatus","setStationStatus","selectedStation","setSelectedStation","loading","setLoading","error","setError","fetchStations","response","get","data","err","console","fetchStationStatus","stationId","prev","fetchAllStationStatus","statusMap","forEach","status","station_id","getPrediction","datetime","post","Date","toISOString","temperature","precipitation","predicted_demand","getStationInfo","find","s","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/pranavviswanathan/Northeastern/Education/Fall2025/ML-OPS/Project/bluebikes-ui/frontend/src/context/StationContext.jsx"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst StationContext = createContext();\n\nconst API_BASE_URL = 'http://localhost:5000/api';\n\nexport const useStations = () => {\n    const context = useContext(StationContext);\n    if (!context) {\n        throw new Error('useStations must be used within StationProvider');\n    }\n    return context;\n};\n\nexport const StationProvider = ({ children }) => {\n    const [stations, setStations] = useState([]);\n    const [stationStatus, setStationStatus] = useState({});\n    const [selectedStation, setSelectedStation] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n\n    // Fetch station information on mount\n    useEffect(() => {\n        fetchStations();\n    }, []);\n\n    const fetchStations = async () => {\n        try {\n            setLoading(true);\n            setError(null);\n            const response = await axios.get(`${API_BASE_URL}/stations`);\n            setStations(response.data);\n        } catch (err) {\n            console.error('Error fetching stations:', err);\n            setError('Failed to load stations. Please check if the backend is running.');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const fetchStationStatus = async (stationId) => {\n        try {\n            const response = await axios.get(`${API_BASE_URL}/stations/${stationId}/status`);\n            setStationStatus(prev => ({\n                ...prev,\n                [stationId]: response.data\n            }));\n            return response.data;\n        } catch (err) {\n            console.error(`Error fetching status for station ${stationId}:`, err);\n            return null;\n        }\n    };\n\n    const fetchAllStationStatus = async () => {\n        try {\n            const response = await axios.get(`${API_BASE_URL}/stations/status`);\n            const statusMap = {};\n            response.data.forEach(status => {\n                statusMap[status.station_id] = status;\n            });\n            setStationStatus(statusMap);\n            return statusMap;\n        } catch (err) {\n            console.error('Error fetching all station statuses:', err);\n            return {};\n        }\n    };\n\n    const getPrediction = async (stationId, datetime = null) => {\n        try {\n            const response = await axios.post(`${API_BASE_URL}/predict`, {\n                station_id: stationId,\n                datetime: datetime || new Date().toISOString(),\n                temperature: 15, // Default values\n                precipitation: 0\n            });\n            return response.data;\n        } catch (err) {\n            console.error(`Error getting prediction for station ${stationId}:`, err);\n            return { predicted_demand: null, error: 'Prediction unavailable' };\n        }\n    };\n\n    const getStationInfo = (stationId) => {\n        return stations.find(s => s.station_id === stationId);\n    };\n\n    const value = {\n        stations,\n        stationStatus,\n        selectedStation,\n        setSelectedStation,\n        loading,\n        error,\n        fetchStations,\n        fetchStationStatus,\n        fetchAllStationStatus,\n        getPrediction,\n        getStationInfo\n    };\n\n    return (\n        <StationContext.Provider value={value}>\n            {children}\n        </StationContext.Provider>\n    );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}